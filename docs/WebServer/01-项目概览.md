CppWebServer

该项目是一个使用Linux Socket实现的Web服务器项目。

## 配置与启动
项目启动时，main 函数首先初始化 [Config](https://github.com/libra010/CppWebServer/blob/main/code/config/config.cpp) 类，该类通过命令行参数和 .ini 配置文件加载各项配置参数。随后，利用 Config 提供的配置信息对 WebServer 类进行初始化。

在 [WebServer](https://github.com/libra010/CppWebServer/blob/main/code/server/webserver.cpp) 初始化过程中，会同时初始化 [Log](/WebServer/03-基础组件-BlockDeque-Log.md) 类。Log 类通过一个独立的日志线程与阻塞队列（BlockDeque）相结合的方式，实现高效的异步日志写入，避免日志操作阻塞主流程。

## 执行HTTP请求

调用 WebServer 的 start() 方法后，服务器正式启动，使用 Linux Socket 进行网络监听。当接收到客户端的 HTTP 请求时，服务器将其封装为一个任务函数，并提交至线程池 [ThreadPool](/WebServer/04-基础组件-ThreadPool.md) 中等待执行。

该任务首先创建或复用一个 [HttpConn](/WebServer/06-网络协议-HttpConn.md) 对象，用于管理本次连接。接着，HttpConn 调用 [HttpRequest](/WebServer/05-网络协议-HttpRequest.md) 类解析 HTTP 请求。HttpRequest 采用有限状态机机制解析请求行、请求头及请求体。

若请求方法为 POST，系统将通过 fork-exec 机制创建 CGI 子进程，执行外部程序处理业务逻辑，并将处理结果以 JSON 格式的字符串返回。

请求解析完成后，HttpConn 调用 [HttpResponse](/WebServer/07-网络协议-HttpResponse.md) 类，根据请求结果填充响应头和响应体，构建完整的 HTTP 响应内容。最终，由 HttpConn 负责将响应数据发送回客户端浏览器，完成整个请求-响应流程。
